<Page x:Class="DSA_DigitalSignature.Views.ManualDSAView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Background="#F5F5F5">
    <ScrollViewer>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="100"/>
                <RowDefinition Height="80"/>
                <RowDefinition Height="600"/>
            </Grid.RowDefinitions>
            <Label Content="NHẬP THAM SỐ DSA THỦ CÔNG" Foreground="Red" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,10,0,0" Grid.Row="0"/>
            <StackPanel Orientation="Horizontal" Margin="0,40,0,0" Width="630" Grid.Row="0">
                <StackPanel Orientation="Vertical" Width="72">
                    <TextBlock Text="Tham số p" FontWeight="Bold"/>
                    <TextBox x:Name="txtP"/>
                </StackPanel>
                <StackPanel Orientation="Vertical" Margin="22,0" Width="72">
                    <TextBlock Text="Tham số q" FontWeight="Bold" Margin="0,0,0,0"/>
                    <TextBox x:Name="txtQ"/>
                </StackPanel>
                <StackPanel Orientation="Vertical" Margin="22,0" Width="72">
                    <TextBlock Text="Tham số g" FontWeight="Bold" Margin="0,0,0,0"/>
                    <TextBox x:Name="txtG"/>
                </StackPanel>
                <StackPanel Orientation="Vertical" Margin="22,0" Width="82">
                    <TextBlock Text="Khóa bí mật x" FontWeight="Bold" Margin="0,0,0,0"/>
                    <TextBox x:Name="txtX"/>
                </StackPanel>
                <StackPanel Orientation="Vertical" Margin="22,0" Width="116">
                    <TextBlock Text="Số ngẫu nhiên k" FontWeight="Bold" Margin="0,0,0,0"/>
                    <TextBox x:Name="txtK"/>
                </StackPanel>
            </StackPanel>
            <StackPanel  Orientation="Horizontal" HorizontalAlignment="Center" Margin="70,0,0,35" Grid.Row="1">
                <Button Content="Tải tham số mẫu" Width="114" Click="LoadSample" Height="36"/>
                <Button Content="Tạo khóa DSA (2048-bit)" Click="GenerateKey" Width="165" Margin="20,0,20,0" Height="33"/>
                <TextBox x:Name="txtResult1" Width="199" RenderTransformOrigin="1.015,0.514" Height="33" Background="#F5F5F5" BorderBrush="#F5F5F5"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Background="Beige" Margin="0,40,0,0" Width="630" Grid.Row="2">
                <StackPanel Orientation ="Vertical" Width="300">
                    <Label Content="Ký văn bản" FontWeight="Bold"/>
                    <TextBlock Text="Văn bản cần ký" FontWeight="Bold" Margin="0,10,0,0"/>
                    <TextBox x:Name="txtMessage"
               Height="89"
               AcceptsReturn="True"
               TextWrapping="Wrap"/>
                    <Button Content="Ký văn bản" HorizontalAlignment="Center" Width="151" Margin="0,8,0,2" Click="Sign"/>
                    <Button Content="Tạo File chữ kí" HorizontalAlignment="Center" Width="148" Margin="2" Click="TaoFileChuKi"/>
                    <Button Content="Lưu văn bản thành file" HorizontalAlignment="Center" Width="148" Margin="2" Click="TaoFileMessage"/>

                    <TextBox x:Name="txtResult" Background="#F5F5F5" BorderBrush="#F5F5F5"/>
                    <GroupBox Header="Quá trình ký DSA" Margin="0,20,0,0">
                        <TextBox x:Name="txtSignSteps"
             Height="200"
             IsReadOnly="True"
             TextWrapping="Wrap"
             VerticalScrollBarVisibility="Auto"/>
                    </GroupBox>

                </StackPanel>

                <StackPanel Orientation ="Vertical" Width="300">

                    <Label Content="Xác thực chữ ký" FontWeight="Bold"/>
                    <TextBox x:Name="txtMessage1" Margin="10,10,0,0"  
               Height="80"
               AcceptsReturn="True"
               TextWrapping="Wrap"/>
                    <Button Content="Chọn file chữ kí" HorizontalAlignment="Center" Width="151" Margin="0,28,0,2" Click="ChonFileChuKi"/>
                    <Button Content="Xác thực" HorizontalAlignment="Center" Width="151" Margin="2" Click="Verify"/>
                    <GroupBox Header="📘 Quá trình xác thực DSA" Margin="0,20,0,0">
                        <TextBox x:Name="txtVerifySteps" Height="220" IsReadOnly="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"/>
                    </GroupBox>


                </StackPanel>

            </StackPanel>

        </Grid>
    </ScrollViewer>
</Page>