<Page x:Class="DSA_DigitalSignature.Views.FileDSAView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Background="#F5F5F5"  Title="FileDSAView">


    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="15">

            <!-- ===== GRID SETUP ===== -->
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- title -->
                <RowDefinition Height="Auto"/>
                <!-- file -->
                <RowDefinition Height="Auto"/>
                <!-- signature -->
                <RowDefinition Height="Auto"/>
                <!-- p -->
                <RowDefinition Height="Auto"/>
                <!-- q -->
                <RowDefinition Height="Auto"/>
                <!-- g -->
                <RowDefinition Height="Auto"/>
                <!-- x -->
                <RowDefinition Height="Auto"/>
                <!-- k -->
                <RowDefinition Height="Auto"/>
                <!-- buttons -->
                <RowDefinition Height="Auto"/>
                <!-- status -->
                <RowDefinition Height="*"/>
                <!-- result -->
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- ===== TITLE ===== -->
            <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
                       Text="MÔ PHỎNG CHỮ KÝ SỐ DSA – FILE"
                       FontSize="20"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,15"/>

            <!-- ===== FILE GỐC ===== -->
            <TextBlock Grid.Row="1" Text="File cần ký / xác thực:"
                       VerticalAlignment="Center"/>
            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
                <TextBox x:Name="txtFilePath"
                         Width="350"
                         IsReadOnly="True"
                         Margin="0,0,10,0"/>
                <Button Content="Chọn file"
                        Width="100"
                        Click="ChooseFile"/>
            </StackPanel>

            <!-- ===== FILE CHỮ KÝ ===== -->
            <TextBlock Grid.Row="2" Text="File chữ ký (.sig):"
                       VerticalAlignment="Center"/>
            <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
                <TextBox x:Name="txtSignaturePath"
                         Width="350"
                         IsReadOnly="True"
                         Margin="0,0,10,0"/>
                <Button Content="Chọn file chữ ký (.sig)"
                        Width="200"
                        Click="ChooseSignatureFile"/>
            </StackPanel>

            <!-- ===== p ===== -->
            <TextBlock Grid.Row="3" Text="p:" VerticalAlignment="Center"/>
            <TextBox x:Name="txtP" Grid.Row="3" Grid.Column="1" Width="250"/>

            <!-- ===== q ===== -->
            <TextBlock Grid.Row="4" Text="q:" VerticalAlignment="Center"/>
            <TextBox x:Name="txtQ" Grid.Row="4" Grid.Column="1" Width="250"/>

            <!-- ===== g ===== -->
            <TextBlock Grid.Row="5" Text="g:" VerticalAlignment="Center"/>
            <TextBox x:Name="txtG" Grid.Row="5" Grid.Column="1" Width="250"/>

            <!-- ===== x ===== -->
            <TextBlock Grid.Row="6" Text="x (Private key):"
                       VerticalAlignment="Center"/>
            <TextBox x:Name="txtX" Grid.Row="6" Grid.Column="1" Width="250"/>

            <!-- ===== k ===== -->
            <TextBlock Grid.Row="7" Text="k (1 &lt; k &lt; q):"
                       VerticalAlignment="Center"/>
            <TextBox x:Name="txtK"
                     Grid.Row="7"
                     Grid.Column="1"
                     Width="250"
                     ToolTip="Số ngẫu nhiên dùng khi ký"/>

            <!-- ===== BUTTONS ===== -->
            <StackPanel Grid.Row="8"
                        Grid.ColumnSpan="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,15,0,10">
                <Button Content="Ký file"
                        Width="120"
                        Margin="5"
                        Click="SignFile"/>
                <Button Content="Xác thực file"
                        Width="120"
                        Margin="5"
                        Click="VerifyFile"/>
            </StackPanel>

            <!-- ===== STATUS ===== -->
            <TextBlock x:Name="txtStatus"
                       Grid.Row="9"
                       Grid.ColumnSpan="2"
                       FontSize="14"
                       FontWeight="Bold"
                       TextAlignment="Center"
                       Margin="0,5,0,10"/>

            <!-- ===== RESULT DETAIL ===== -->
            <TextBox x:Name="txtResult"
                     Grid.Row="10"
                     Grid.ColumnSpan="2"
                     Height="260"
                     AcceptsReturn="True"
                     VerticalScrollBarVisibility="Auto"
                     TextWrapping="Wrap"
                     IsReadOnly="True"/>

        </Grid>
    </ScrollViewer>
</Page>